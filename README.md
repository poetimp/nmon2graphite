# nmon2graphite

This perl program will read a file generated by nmon, running in batch mode, and will send the information to the graphite/whisper database used by grafana. For this program to work the following three lines need to be included a crontab:

00   00 * * * find /nmondata -name "`hostname`_`date +\%y\%m\%d`*.nmon" -mtime +7  | xargs rm
00   00 * * * (cd  /nmondata && /usr/local/bin/nmon -f -s 30 -c 2880)
*/2  *  * * * (cd  /nmondata && /usr/local/bin/nmon2graphite.pl `hostname`_`date +\%y\%m\%d`*.nmon)

Also it is assumed that the /nmondata directory exists and is where the nmon data is being kept. Note also that the location of the nmon command is different between AIX and Linux. Update the crontab entry above as needed. 

You can, of course, change the frequency of collection and retention of files to suit your own needs.
